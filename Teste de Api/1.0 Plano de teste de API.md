# ğŸ“‹ Plano de Testes de API â€“ **Carga & Performance (JMeter)**

### ğŸ“Œ 1. IdentificaÃ§Ã£o
- **Nome do Projeto**: ConectaBem â€“ Sistema de SaÃºde  
- **Ambiente de Testes (API)**: [ConectaBem Back](https://conecta-bem-back.vercel.app/)  
- **Tipo de Teste**: Testes de **Carga, Performance e Stress**  
- **Data do Documento**: 29/09/2025  
- **ResponsÃ¡veis**: Mateus Santos e Miguel Luis

---

## ğŸ”¹ 2. Objetivo
Validar a **capacidade de resposta, estabilidade e escalabilidade** das APIs crÃ­ticas do sistema ConectaBem, utilizando o **Apache JMeter**.  
Garantir que a aplicaÃ§Ã£o suporte o nÃºmero esperado de usuÃ¡rios simultÃ¢neos, mantendo tempo de resposta dentro dos limites de SLA.  

---

## ğŸ”¹ 3. Escopo
- Ambientes: **Dev** e **ProduÃ§Ã£o Controlada**  
- Testes a realizar: **Performance, Carga, Stress e Picos**
    
SerÃ£o considerados os seguintes **endpoints crÃ­ticos** para os testes:  

### **AutenticaÃ§Ã£o**
- `POST /auth/sendOTP`
- `POST /auth/checkOTP`
- `POST /auth/createPatient`
- `POST /auth/createProfessional`

### **Busca**
- `GET /search/highlightsWeek`
- `GET /search/professionalBySpeciality/{speciality}`
- `GET /search/searchBar/{terms}`

### **Agendamentos**
- `POST /appointments`
- `POST /appointments/{id}/actions`
- `GET /appointments/{id}`
- `GET /appointments/me`

---

## ğŸ”¹ 4. Tipos de Testes de Performance

### âœ… **Teste de Performance (Baseline)**
- Medir o tempo mÃ©dio de resposta sob **baixa concorrÃªncia** (1â€“5 usuÃ¡rios).  
- Garantir tempo de resposta **â‰¤ 500 ms** para 95% das requisiÃ§Ãµes.  

### âœ… **Teste de Carga**
- Simular **100 usuÃ¡rios simultÃ¢neos** realizando requisiÃ§Ãµes.  
- Medir throughput (req/segundo) e taxa de erro.  
- Validar **estabilidade por 10 minutos contÃ­nuos**.  

### âœ… **Teste de Stress**
- Aumentar gradualmente atÃ© **300 usuÃ¡rios simultÃ¢neos**.  
- Identificar o **ponto de quebra** da aplicaÃ§Ã£o (tempo limite ou falhas).  

### âœ… **Teste de Pico (Spike Test)**
- Subir de **10 para 200 usuÃ¡rios instantaneamente**.  
- Avaliar como a API se recupera apÃ³s a sobrecarga repentina.  

---

## ğŸ”¹ 5. Ferramentas
- **Apache JMeter** â†’ simulaÃ§Ã£o de carga e anÃ¡lise de performance.  
- **JMeter Plugins** â†’ grÃ¡ficos de throughput, response time e erros.
  
---

## ğŸ”¹ 6. EstratÃ©gia de AutomaÃ§Ã£o
1. Criar **planos de teste JMX** por mÃ³dulo (Auth, UsuÃ¡rios, Agendamentos).  
2. Parametrizar variÃ¡veis (`baseURL`, `users.csv` com credenciais, tokens dinÃ¢micos).  
3. Configurar **Thread Groups**:  
   - **Load Test** â†’ 100 usuÃ¡rios / ramp-up 60s / duraÃ§Ã£o 10 min.  
   - **Stress Test** â†’ incremento de 50 usuÃ¡rios a cada 2 min atÃ© falhar.  
   - **Spike Test** â†’ subida instantÃ¢nea para 200 usuÃ¡rios.  
4. Adicionar **Assertions** (tempo de resposta < 500ms, cÃ³digo 200).  
5. Gerar relatÃ³rios:  
   - **JMeter Dashboard (HTML)**  
   - **Logs CSV** para anÃ¡lise de mÃ©tricas.  

---

## ğŸ”¹ 7. MÃ©tricas de Qualidade
- **Tempo mÃ©dio de resposta (ms)**  
- **Percentil 95 e 99 de resposta**  
- **Throughput (req/s)**  
- **Taxa de erro (%)**  
- **UsuÃ¡rios simultÃ¢neos suportados**  
- **Uso de recursos (CPU/RAM/DB â€“ via monitoramento)**  

---

## ğŸ”¹ 8. CritÃ©rios de Aceite
- 95% das requisiÃ§Ãµes respondem em â‰¤ 500 ms.  
- Nenhum erro acima de **2%** em cenÃ¡rios de carga planejada.  
- API suporta **â‰¥ 100 usuÃ¡rios simultÃ¢neos** sem degradaÃ§Ã£o grave.  
- RecuperaÃ§Ã£o apÃ³s teste de pico em â‰¤ 1 minuto.  
